(function(e){function t(t){for(var o,a,s=t[0],r=t[1],l=t[2],d=0,p=[];d<s.length;d++)a=s[d],i[a]&&p.push(i[a][0]),i[a]=0;for(o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o]);u&&u(t);while(p.length)p.shift()();return c.push.apply(c,l||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],o=!0,s=1;s<n.length;s++){var r=n[s];0!==i[r]&&(o=!1)}o&&(c.splice(t--,1),e=a(a.s=n[0]))}return e}var o={},i={app:0},c=[];function a(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=o,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)a.d(n,o,function(t){return e[t]}.bind(null,o));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/static/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],r=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var u=r;c.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},1914:function(e,t,n){},"1b9b":function(e,t,n){"use strict";var o=n("5b32"),i=n.n(o);i.a},"21bb":function(e,t,n){"use strict";var o=n("1914"),i=n.n(o);i.a},2856:function(e,t,n){},3734:function(e,t,n){"use strict";var o=n("f4f7"),i=n.n(o);i.a},4555:function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("097d");var o=n("b408"),i=n.n(o),c=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app"},[e.showAddButton?n("md-button",{staticClass:"add-button md-icon-button md-raised md-accent md-dense md-fab",on:{click:e.onNewTopic}},[n("md-icon",[e._v("add")])],1):e._e(),n("md-app",[n("md-app-toolbar",{staticClass:"md-primary"},[n("router-link",{staticClass:"md-title",attrs:{to:{name:"home",params:{}}}},[e._v("ExoCortex")])],1),n("md-app-content",[n("router-view")],1)],1)],1)},s=[],r={name:"app",data:function(){return{showAddButton:!1}},mounted:function(){var e=this;this.$store.dispatch("initialize"),this.$router.afterEach(function(t,n){e.showAddButton="/"===e.$router.currentRoute.path})},methods:{onNewTopic:function(){this.$store.dispatch("selectTopic",void 0),this.$router.push("/edit")}}},l=r,u=(n("5c0b"),n("2877")),d=Object(u["a"])(l,a,s,!1,null,null,null);d.options.__file="App.vue";var p=d.exports,f=(n("ac4d"),n("8a81"),n("ac6a"),n("8615"),n("55dd"),n("2f62")),m=n("bc3a"),v=n.n(m);v.a.defaults.xsrfCookieName="csrftoken",v.a.defaults.xsrfHeaderName="X-CSRFTOKEN",v.a.defaults.withCredentials=!0,c["default"].use(f["a"]);var h=new f["a"].Store({strict:!0,state:{topics:{},selectedTopic:void 0},getters:{urgentTopics:function(e){return Object.values(e.topics).sort(function(e,t){return e.score.sum<t.score.sum?1:e.score.sum>t.score.sum?-1:0})},selectedTopic:function(e){return e.selectedTopic}},mutations:{replaceAll:function(e,t){e.topics={};var n=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var r=a.value;c["default"].set(e.topics,r.id,r)}}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}},updateTopic:function(e,t){c["default"].set(e.topics,t.id,t),void 0!==e.selectedTopic&&t.id===e.selectedTopic.id&&(e.selectedTopic=t)},selectTopic:function(e,t){e.selectedTopic=t},deleteTopic:function(e,t){c["default"].delete(e.topics,t),void 0!==e.selectedTopic&&e.selectedTopic.id===t&&(e.selectedTopic=void 0)},SOCKET_ONMESSAGE:function(e,t){console.log("ws:",t)},SOCKET_ONOPEN:function(e,t){},SOCKET_ONCLOSE:function(e,t){},SOCKET_ONERROR:function(e,t){console.error(t)}},actions:{initialize:function(e){var t=e.commit;v.a.get("/api/topics/").then(function(e){var n=e.data;t("replaceAll",n)})},updateTopic:function(e,t){var n=e.commit;void 0===t.id?v.a.post("/api/topics/",t).then(function(e){n("updateTopic",e.data),n("selectTopic",e.data)}):(""===t.due&&(t.due=null),""===t.ready&&(t.ready=null),v.a.put("/api/topics/"+t.id+"/",t).then(function(e){n("updateTopic",e.data)}))},selectTopic:function(e,t){var n=e.commit;n("selectTopic",t)},deleteTopic:function(e,t){var n=e.commit;v.a.delete("/api/topics/"+t.id+"/").then(function(e){n("deleteTopic",t.id)})}}});v.a.interceptors.response.use(function(e){return e},function(e){return 403===e.response.status&&(window.location.href="/login/"),Promise.reject(e)});var b=n("9483");Object(b["a"])("".concat("/static/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},cached:function(){console.log("Content has been cached for offline use.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var _=n("8c4f"),g=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home"},[n("topic-list",{attrs:{topics:e.urgentTopics},on:{"topic-selected":e.onSelect}})],1)},T=[],y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"topic-list"},[e.title?n("h1",[e._v(e._s(e.title))]):e._e(),n("md-list",e._l(e.topics,function(t){return n("div",{key:t.id},[n("md-list-item",{on:{click:function(n){e.onClick(t)}}},[n("div",[e._v(e._s(t.title))]),n("div",{staticClass:"score"},[e._v(e._s(t.score.sum))])]),n("md-divider")],1)}))],1)},C=[],w={props:["title","topics"],methods:{onClick:function(e){this.$emit("topic-selected",e)}}},x=w,O=(n("e0db"),Object(u["a"])(x,y,C,!1,null,null,null));O.options.__file="TopicList.vue";var $=O.exports,k={name:"home",components:{TopicList:$},computed:{urgentTopics:function(){return this.$store.getters.urgentTopics}},methods:{onSelect:function(e){this.$store.dispatch("selectTopic",e),this.$router.push("/edit")}}},E=k,S=(n("21bb"),Object(u["a"])(E,g,T,!1,null,null,null));S.options.__file="Home.vue";var j=S.exports,N=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"edit-topic md-layout"},[n("md-card",[n("topic",{attrs:{topic:e.selectedTopic},on:{"topic-changed":e.onTopicChanged}}),n("md-card-actions",[n("md-button",{on:{click:e.onDelete}},[e._v("Delete")])],1)],1)],1)},A=[],P=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"topic"},[n("md-card-header",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.template.title,expression:"template.title"}],staticClass:"md-title",domProps:{value:e.template.title},on:{change:e.onChange,input:function(t){t.target.composing||e.$set(e.template,"title",t.target.value)}}}),e.template.score?n("div",{staticClass:"md-subhead score-reasons"},[n("span",[e._v("Score: "+e._s(e.template.score.sum))]),e._l(e.template.score.reasons,function(t,o,i){return n("span",{key:i},[e._v("("+e._s(o)+": "+e._s(t)+")")])})],2):e._e()]),n("md-card-content",[n("div",{staticClass:"timestamps",staticStyle:{display:"none"}},[n("span",[e._v("Added: "+e._s(e.template.added))]),n("span",[e._v("Modified: "+e._s(e.template.modified))])]),n("div",[n("md-checkbox",{on:{change:e.onChange},model:{value:e.template.pinned,callback:function(t){e.$set(e.template,"pinned",t)},expression:"template.pinned"}},[e._v("pinned")]),n("md-checkbox",{on:{change:e.onChange},model:{value:e.template.complete,callback:function(t){e.$set(e.template,"complete",t)},expression:"template.complete"}},[e._v("complete")])],1),n("md-field",[n("md-input",{attrs:{type:"date"},on:{change:e.onChange},model:{value:e.template.due,callback:function(t){e.$set(e.template,"due",t)},expression:"template.due"}}),n("span",{staticClass:"md-helper-text"},[e._v("Due on")])],1),n("md-field",[n("md-input",{attrs:{type:"date"},on:{change:e.onChange},model:{value:e.template.ready,callback:function(t){e.$set(e.template,"ready",t)},expression:"template.ready"}}),n("span",{staticClass:"md-helper-text"},[e._v("Ready starting on")])],1),n("md-field",[n("md-textarea",{attrs:{"md-autogrow":"",placeholder:"Content"},on:{change:e.onChange},model:{value:e.template.text,callback:function(t){e.$set(e.template,"text",t)},expression:"template.text"}})],1)],1)],1)},M=[],R=(n("f751"),n("9840")),D=n.n(R),K={components:{DatePicker:D.a},props:["topic"],computed:{template:function(){return Object.assign({pinned:!0},this.topic)}},methods:{onChange:function(e){this.$emit("topic-changed",this.template)}}},B=K,F=(n("3734"),Object(u["a"])(B,P,M,!1,null,null,null));F.options.__file="Topic.vue";var L=F.exports,z={name:"app",components:{Topic:L},computed:{selectedTopic:function(){return this.$store.getters.selectedTopic}},methods:{onTopicChanged:function(e){this.$store.dispatch("updateTopic",e)},onDelete:function(){this.$store.dispatch("deleteTopic",this.selectedTopic),this.$router.push("/")}}},H=z,J=(n("1b9b"),Object(u["a"])(H,N,A,!1,null,null,null));J.options.__file="Edit.vue";var q=J.exports;c["default"].use(_["a"]);var G=new _["a"]({routes:[{path:"/",name:"home",component:j},{path:"/edit",name:"edit",component:q}]}),X=n("43f9"),I=n.n(X);n("51de"),n("e094");c["default"].use(I.a),c["default"].config.productionTip=!1;var Q,U=window.location;Q="http:"===U.protocol?"ws:":"wss:",Q+="//"+U.host,Q+="/api/ws/updates/",c["default"].use(i.a,Q,{store:h}),new c["default"]({store:h,router:G,render:function(e){return e(p)}}).$mount("#app")},"5b32":function(e,t,n){},"5c0b":function(e,t,n){"use strict";var o=n("2856"),i=n.n(o);i.a},e0db:function(e,t,n){"use strict";var o=n("4555"),i=n.n(o);i.a},f4f7:function(e,t,n){}});
//# sourceMappingURL=app.15866278.js.map