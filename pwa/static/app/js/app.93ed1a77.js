(function(e){function t(t){for(var i,c,r=t[0],s=t[1],l=t[2],u=0,d=[];u<r.length;u++)c=r[u],o[c]&&d.push(o[c][0]),o[c]=0;for(i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i]);p&&p(t);while(d.length)d.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],i=!0,r=1;r<n.length;r++){var s=n[r];0!==o[s]&&(i=!1)}i&&(a.splice(t--,1),e=c(c.s=n[0]))}return e}var i={},o={app:0},a=[];function c(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=i,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)c.d(n,i,function(t){return e[t]}.bind(null,i));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/static/app/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],s=r.push.bind(r);r.push=t,r=r.slice();for(var l=0;l<r.length;l++)t(r[l]);var p=s;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},2856:function(e,t,n){},3734:function(e,t,n){"use strict";var i=n("f4f7"),o=n.n(i);o.a},4555:function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("097d");var i=n("2b0e"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[e._m(0),n("div",{staticClass:"content"},[n("div",{staticClass:"container"},[n("div",{staticClass:"box"},[e.selectedTopic?n("div",[n("button",{on:{click:e.onBack}},[e._v("Back")]),n("topic",{attrs:{topic:e.selectedTopic},on:{"topic-changed":e.onTopicChanged}})],1):n("topic-list",{attrs:{title:"Topics by Urgency",topics:e.urgentTopics},on:{"topic-selected":e.onSelect}})],1)])])])},a=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("nav",{staticClass:"navbar",attrs:{role:"navigation","aria-label":"main navigation"}},[n("a",{staticClass:"navbar-item navbar-brand",attrs:{href:"/static/app"}},[e._v("ExoCortex")])])])}],c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"topic-list"},[n("h1",{staticClass:"title"},[e._v(e._s(e.title))]),e._l(e.topics,function(t){return n("div",{key:t.id,staticClass:"box"},[n("a",{on:{click:function(n){e.onClick(t)}}},[n("h3",[e._v(e._s(t.title))])]),n("div",{staticClass:"ribbon"},[e._v(e._s(t.score.sum))]),n("p",[e._v("\n      "+e._s(t.text)+"\n    ")])])})],2)},r=[],s={props:["title","topics"],methods:{onClick:function(e){this.$emit("topic-selected",e)}}},l=s,p=(n("e0db"),n("2877")),u=Object(p["a"])(l,c,r,!1,null,null,null);u.options.__file="TopicList.vue";var d=u.exports,f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.topic?n("div",{staticClass:"topic"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.template.title,expression:"template.title"}],domProps:{value:e.template.title},on:{change:e.onChange,input:function(t){t.target.composing||e.$set(e.template,"title",t.target.value)}}}),n("div",{staticClass:"score-reasons"},[n("span",[e._v("Score: "+e._s(e.template.score.sum))]),e._l(e.template.score.reasons,function(t,i,o){return n("span",{key:o},[e._v("("+e._s(i)+": "+e._s(t)+")")])})],2),n("div",{staticClass:"horizontal"},[n("label",{staticClass:"checkbox"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.template.pinned,expression:"template.pinned"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.template.pinned)?e._i(e.template.pinned,null)>-1:e.template.pinned},on:{change:[function(t){var n=e.template.pinned,i=t.target,o=!!i.checked;if(Array.isArray(n)){var a=null,c=e._i(n,a);i.checked?c<0&&e.$set(e.template,"pinned",n.concat([a])):c>-1&&e.$set(e.template,"pinned",n.slice(0,c).concat(n.slice(c+1)))}else e.$set(e.template,"pinned",o)},e.onChange]}}),e._v("pinned")])]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.template.due,expression:"template.due"}],attrs:{type:"text"},domProps:{value:e.template.due},on:{change:e.onChange,input:function(t){t.target.composing||e.$set(e.template,"due",t.target.value)}}}),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.template.text,expression:"template.text"}],attrs:{cols:"60",lines:"4"},domProps:{value:e.template.text},on:{change:e.onChange,input:function(t){t.target.composing||e.$set(e.template,"text",t.target.value)}}})]):e._e()},v=[],m=(n("f751"),{props:["topic"],computed:{template:function(){return Object.assign({},this.topic)}},methods:{onChange:function(e){this.$emit("topic-changed",this.template)}}}),h=m,g=(n("3734"),Object(p["a"])(h,f,v,!1,null,null,null));g.options.__file="Topic.vue";var b=g.exports,_={name:"app",components:{TopicList:d,Topic:b},computed:{urgentTopics:function(){return this.$store.getters.urgentTopics},selectedTopic:function(){return this.$store.getters.selectedTopic}},mounted:function(){this.$store.dispatch("initialize")},methods:{onSelect:function(e){this.$store.dispatch("selectTopic",e)},onBack:function(){this.$store.dispatch("selectTopic",void 0)},onTopicChanged:function(e){this.$store.dispatch("updateTopic",e)}}},T=_,y=(n("5c0b"),Object(p["a"])(T,o,a,!1,null,null,null));y.options.__file="App.vue";var x=y.exports,C=(n("ac4d"),n("8a81"),n("ac6a"),n("8615"),n("55dd"),n("2f62")),k=n("bc3a"),w=n.n(k);w.a.defaults.xsrfCookieName="csrftoken",w.a.defaults.xsrfHeaderName="X-CSRFTOKEN",w.a.defaults.withCredentials=!0,i["a"].use(C["a"]);var $=new C["a"].Store({strict:!0,state:{topics:{},selectedTopic:void 0},getters:{urgentTopics:function(e){return Object.values(e.topics).sort(function(e,t){return e.score.sum<t.score.sum?1:e.score.sum>t.score.sum?-1:0})},selectedTopic:function(e){return e.selectedTopic}},mutations:{replaceAll:function(e,t){e.topics={};var n=!0,o=!1,a=void 0;try{for(var c,r=t[Symbol.iterator]();!(n=(c=r.next()).done);n=!0){var s=c.value;i["a"].set(e.topics,s.id,s)}}catch(e){o=!0,a=e}finally{try{n||null==r.return||r.return()}finally{if(o)throw a}}},updateTopic:function(e,t){i["a"].set(e.topics,t.id,t),t.id===e.selectedTopic.id&&(e.selectedTopic=t)},selectTopic:function(e,t){e.selectedTopic=t}},actions:{initialize:function(e){var t=e.commit;w.a.get("/api/topics").then(function(e){var n=e.data;t("replaceAll",n)})},updateTopic:function(e,t){var n=e.commit;w.a.put("/api/topics/"+t.id+"/",t).then(function(e){n("updateTopic",e.data)})},selectTopic:function(e,t){var n=e.commit;n("selectTopic",t)}}}),O=n("9483");Object(O["a"])("".concat("/static/app/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},cached:function(){console.log("Content has been cached for offline use.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}}),i["a"].config.productionTip=!1,new i["a"]({store:$,render:function(e){return e(x)}}).$mount("#app")},"5c0b":function(e,t,n){"use strict";var i=n("2856"),o=n.n(i);o.a},e0db:function(e,t,n){"use strict";var i=n("4555"),o=n.n(i);o.a},f4f7:function(e,t,n){}});
//# sourceMappingURL=app.93ed1a77.js.map